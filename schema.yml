openapi: 3.0.3
info:
  title: Vault Rack API
  version: 1.0.0
  description: API for Vault Rack Inventory and Sales Management
paths:
  /v1/accounts/:
    get:
      operationId: v1_accounts_list
      description: |-
        List all accounts (purchases) or create a new account.
        Supports nested creation of account details.
      parameters:
        - name: page
          required: false
          in: query
          description: A page number within the paginated result set.
          schema:
            type: integer
        - name: page_size
          required: false
          in: query
          description: Number of results to return per page.
          schema:
            type: integer
      tags:
        - v1
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaginatedAccountListList"
          description: ""
    post:
      operationId: v1_accounts_create
      description: |-
        List all accounts (purchases) or create a new account.
        Supports nested creation of account details.
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AccountRequest"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/AccountRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/AccountRequest"
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Account"
          description: ""
  /v1/accounts/{account_id}/payments/:
    get:
      operationId: v1_accounts_payments_list
      description: |-
        List payments for an account or create a new payment.
        Nested under /accounts/<account_id>/payments/
      parameters:
        - in: path
          name: account_id
          schema:
            type: string
          required: true
      tags:
        - v1
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/AccountPayment"
          description: ""
    post:
      operationId: v1_accounts_payments_create
      description: |-
        List payments for an account or create a new payment.
        Nested under /accounts/<account_id>/payments/
      parameters:
        - in: path
          name: account_id
          schema:
            type: string
          required: true
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AccountPaymentRequest"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/AccountPaymentRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/AccountPaymentRequest"
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccountPayment"
          description: ""
  /v1/accounts/{id}/:
    get:
      operationId: v1_accounts_retrieve
      description: |-
        Retrieve, update, or delete an account (purchase).
        Delete operation is soft delete (sets state=False).

        Note: Updating account details after creation may require
        complex stock adjustments. Consider implementing specific
        update logic if needed.
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
      tags:
        - v1
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Account"
          description: ""
    put:
      operationId: v1_accounts_update
      description: |-
        Retrieve, update, or delete an account (purchase).
        Delete operation is soft delete (sets state=False).

        Note: Updating account details after creation may require
        complex stock adjustments. Consider implementing specific
        update logic if needed.
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AccountRequest"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/AccountRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/AccountRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Account"
          description: ""
    patch:
      operationId: v1_accounts_partial_update
      description: |-
        Retrieve, update, or delete an account (purchase).
        Delete operation is soft delete (sets state=False).

        Note: Updating account details after creation may require
        complex stock adjustments. Consider implementing specific
        update logic if needed.
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PatchedAccountRequest"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/PatchedAccountRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/PatchedAccountRequest"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Account"
          description: ""
    delete:
      operationId: v1_accounts_destroy
      description: |-
        Retrieve, update, or delete an account (purchase).
        Delete operation is soft delete (sets state=False).

        Note: Updating account details after creation may require
        complex stock adjustments. Consider implementing specific
        update logic if needed.
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
      tags:
        - v1
      responses:
        "204":
          description: No response body
  /v1/branch/:
    get:
      operationId: v1_branch_list
      tags:
        - v1
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Branch"
          description: ""
    post:
      operationId: v1_branch_create
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/BranchRequest"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/BranchRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/BranchRequest"
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Branch"
          description: ""
  /v1/branch/{id}/:
    get:
      operationId: v1_branch_retrieve
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
      tags:
        - v1
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Branch"
          description: ""
    put:
      operationId: v1_branch_update
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/BranchRequest"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/BranchRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/BranchRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Branch"
          description: ""
    patch:
      operationId: v1_branch_partial_update
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PatchedBranchRequest"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/PatchedBranchRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/PatchedBranchRequest"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Branch"
          description: ""
    delete:
      operationId: v1_branch_destroy
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
      tags:
        - v1
      responses:
        "204":
          description: No response body
  /v1/category/:
    get:
      operationId: v1_category_list
      tags:
        - v1
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Category"
          description: ""
    post:
      operationId: v1_category_create
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CategoryRequest"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/CategoryRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/CategoryRequest"
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Category"
          description: ""
  /v1/category/{id}/:
    get:
      operationId: v1_category_retrieve
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
      tags:
        - v1
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Category"
          description: ""
    put:
      operationId: v1_category_update
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CategoryRequest"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/CategoryRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/CategoryRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Category"
          description: ""
    patch:
      operationId: v1_category_partial_update
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PatchedCategoryRequest"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/PatchedCategoryRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/PatchedCategoryRequest"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Category"
          description: ""
    delete:
      operationId: v1_category_destroy
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
      tags:
        - v1
      responses:
        "204":
          description: No response body
  /v1/company/:
    get:
      operationId: v1_company_retrieve
      tags:
        - v1
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Company"
          description: ""
    post:
      operationId: v1_company_create
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CompanyRequest"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/CompanyRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/CompanyRequest"
        required: true
      security:
        - {}
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Company"
          description: ""
    put:
      operationId: v1_company_update
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CompanyRequest"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/CompanyRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/CompanyRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Company"
          description: ""
    patch:
      operationId: v1_company_partial_update
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PatchedCompanyRequest"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/PatchedCompanyRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/PatchedCompanyRequest"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Company"
          description: ""
  /v1/customers/:
    get:
      operationId: v1_customers_list
      tags:
        - v1
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Customer"
          description: ""
    post:
      operationId: v1_customers_create
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CustomerRequest"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/CustomerRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/CustomerRequest"
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Customer"
          description: ""
  /v1/customers/{id}/:
    get:
      operationId: v1_customers_retrieve
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
      tags:
        - v1
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Customer"
          description: ""
    put:
      operationId: v1_customers_update
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CustomerRequest"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/CustomerRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/CustomerRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Customer"
          description: ""
    patch:
      operationId: v1_customers_partial_update
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PatchedCustomerRequest"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/PatchedCustomerRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/PatchedCustomerRequest"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Customer"
          description: ""
    delete:
      operationId: v1_customers_destroy
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
      tags:
        - v1
      responses:
        "204":
          description: No response body
  /v1/exchange-rates/{id}/:
    get:
      operationId: v1_exchange_rates_retrieve
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
      tags:
        - v1
      security:
        - {}
      responses:
        "200":
          description: No response body
  /v1/exchange-rates/history/:
    get:
      operationId: v1_exchange_rates_history_retrieve
      tags:
        - v1
      security:
        - {}
      responses:
        "200":
          description: No response body
  /v1/exchange-rates/today/:
    get:
      operationId: v1_exchange_rates_today_retrieve
      tags:
        - v1
      security:
        - {}
      responses:
        "200":
          description: No response body
  /v1/login/:
    post:
      operationId: v1_login_create
      tags:
        - v1
      security:
        - {}
      responses:
        "200":
          description: No response body
  /v1/logout/:
    post:
      operationId: v1_logout_create
      tags:
        - v1
      responses:
        "200":
          description: No response body
  /v1/measurement/:
    get:
      operationId: v1_measurement_list
      tags:
        - v1
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/MeasurementUnit"
          description: ""
    post:
      operationId: v1_measurement_create
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/MeasurementUnitRequest"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/MeasurementUnitRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/MeasurementUnitRequest"
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MeasurementUnit"
          description: ""
  /v1/measurement/{id}/:
    get:
      operationId: v1_measurement_retrieve
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
      tags:
        - v1
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MeasurementUnit"
          description: ""
    put:
      operationId: v1_measurement_update
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/MeasurementUnitRequest"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/MeasurementUnitRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/MeasurementUnitRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MeasurementUnit"
          description: ""
    patch:
      operationId: v1_measurement_partial_update
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PatchedMeasurementUnitRequest"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/PatchedMeasurementUnitRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/PatchedMeasurementUnitRequest"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MeasurementUnit"
          description: ""
    delete:
      operationId: v1_measurement_destroy
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
      tags:
        - v1
      responses:
        "204":
          description: No response body
  /v1/product/:
    get:
      operationId: v1_product_list
      tags:
        - v1
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ProductMaster"
          description: ""
    post:
      operationId: v1_product_create
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ProductWriteDetailRequest"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/ProductWriteDetailRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/ProductWriteDetailRequest"
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ProductWriteDetail"
          description: ""
  /v1/product-branch-stock/:
    get:
      operationId: v1_product_branch_stock_list
      tags:
        - v1
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ProductStockSale"
          description: ""
  /v1/product/{id}/:
    get:
      operationId: v1_product_retrieve
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
      tags:
        - v1
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ProductWriteDetail"
          description: ""
    put:
      operationId: v1_product_update
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ProductWriteDetailRequest"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/ProductWriteDetailRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/ProductWriteDetailRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ProductWriteDetail"
          description: ""
    patch:
      operationId: v1_product_partial_update
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PatchedProductWriteDetailRequest"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/PatchedProductWriteDetailRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/PatchedProductWriteDetailRequest"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ProductWriteDetail"
          description: ""
    delete:
      operationId: v1_product_destroy
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
      tags:
        - v1
      responses:
        "204":
          description: No response body
  /v1/providers/:
    get:
      operationId: v1_providers_list
      tags:
        - v1
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Provider"
          description: ""
    post:
      operationId: v1_providers_create
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ProviderRequest"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/ProviderRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/ProviderRequest"
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Provider"
          description: ""
  /v1/providers/{id}/:
    get:
      operationId: v1_providers_retrieve
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
      tags:
        - v1
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Provider"
          description: ""
    put:
      operationId: v1_providers_update
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ProviderRequest"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/ProviderRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/ProviderRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Provider"
          description: ""
    patch:
      operationId: v1_providers_partial_update
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PatchedProviderRequest"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/PatchedProviderRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/PatchedProviderRequest"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Provider"
          description: ""
    delete:
      operationId: v1_providers_destroy
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
      tags:
        - v1
      responses:
        "204":
          description: No response body
  /v1/refresh/:
    post:
      operationId: v1_refresh_create
      description: |-
        Takes a refresh type JSON web token and returns an access type JSON web
        token if the refresh token is valid.
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TokenRefreshRequest"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/TokenRefreshRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/TokenRefreshRequest"
        required: true
      security:
        - {}
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TokenRefresh"
          description: ""
  /v1/register/:
    post:
      operationId: v1_register_create
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RegisterUserRequest"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/RegisterUserRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/RegisterUserRequest"
        required: true
      security:
        - {}
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RegisterUser"
          description: ""
  /v1/sales/:
    get:
      operationId: v1_sales_list
      description: |-
        List all sales or create a new sale.
        Supports nested creation of sale details.
      parameters:
        - name: page
          required: false
          in: query
          description: A page number within the paginated result set.
          schema:
            type: integer
        - name: page_size
          required: false
          in: query
          description: Number of results to return per page.
          schema:
            type: integer
      tags:
        - v1
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaginatedSaleListList"
          description: ""
    post:
      operationId: v1_sales_create
      description: |-
        List all sales or create a new sale.
        Supports nested creation of sale details.
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SaleRequest"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/SaleRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/SaleRequest"
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Sale"
          description: ""
  /v1/sales/{id}/:
    get:
      operationId: v1_sales_retrieve
      description: |-
        Retrieve, update, or delete a sale.
        Delete operation is soft delete (sets state=False).
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
      tags:
        - v1
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Sale"
          description: ""
    put:
      operationId: v1_sales_update
      description: |-
        Retrieve, update, or delete a sale.
        Delete operation is soft delete (sets state=False).
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SaleRequest"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/SaleRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/SaleRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Sale"
          description: ""
    patch:
      operationId: v1_sales_partial_update
      description: |-
        Retrieve, update, or delete a sale.
        Delete operation is soft delete (sets state=False).
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PatchedSaleRequest"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/PatchedSaleRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/PatchedSaleRequest"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Sale"
          description: ""
    delete:
      operationId: v1_sales_destroy
      description: |-
        Retrieve, update, or delete a sale.
        Delete operation is soft delete (sets state=False).
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
      tags:
        - v1
      responses:
        "204":
          description: No response body
  /v1/sales/{sale_id}/payments/:
    get:
      operationId: v1_sales_payments_list
      description: |-
        List payments for a sale or create a new payment.
        Nested under /sales/<sale_id>/payments/
      parameters:
        - in: path
          name: sale_id
          schema:
            type: string
          required: true
      tags:
        - v1
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/SalePayment"
          description: ""
    post:
      operationId: v1_sales_payments_create
      description: |-
        List payments for a sale or create a new payment.
        Nested under /sales/<sale_id>/payments/
      parameters:
        - in: path
          name: sale_id
          schema:
            type: string
          required: true
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SalePaymentRequest"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/SalePaymentRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/SalePaymentRequest"
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SalePayment"
          description: ""
  /v1/user-branches/:
    get:
      operationId: v1_user_branches_retrieve
      tags:
        - v1
      responses:
        "200":
          description: No response body
    put:
      operationId: v1_user_branches_update
      tags:
        - v1
      responses:
        "200":
          description: No response body
  /v1/user-info/:
    get:
      operationId: v1_user_info_retrieve
      tags:
        - v1
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CustomUser"
          description: ""
    put:
      operationId: v1_user_info_update
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CustomUserRequest"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/CustomUserRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/CustomUserRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CustomUser"
          description: ""
    patch:
      operationId: v1_user_info_partial_update
      tags:
        - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PatchedCustomUserRequest"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/PatchedCustomUserRequest"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/PatchedCustomUserRequest"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CustomUser"
          description: ""
components:
  schemas:
    Account:
      type: object
      description: |-
        Main serializer for creating and viewing accounts (purchases).
        Supports nested creation of account details.
        Increases stock when account is created.
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        branch:
          type: string
          format: uuid
        branch_name:
          type: string
          readOnly: true
        provider:
          type: string
          format: uuid
          nullable: true
        provider_name:
          type: string
          readOnly: true
          default: No Provider
        total_amount_usd:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,2})?$
          readOnly: true
        payment_status:
          allOf:
            - $ref: "#/components/schemas/PaymentStatus0cfEnum"
          readOnly: true
        seq_number:
          type: integer
          readOnly: true
        account_details:
          type: array
          items:
            $ref: "#/components/schemas/AccountDetail"
          readOnly: true
        total_paid:
          type: string
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
        - account_details
        - branch
        - branch_name
        - created_at
        - id
        - payment_status
        - provider_name
        - seq_number
        - total_amount_usd
        - total_paid
        - updated_at
    AccountDetail:
      type: object
      description: |-
        Serializer for AccountDetail - used for reading account details.
        For writing, use the nested 'details' field in AccountSerializer.
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        product:
          type: string
          format: uuid
        product_name:
          type: string
          readOnly: true
        quantity:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
        unit_price:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,2})?$
          readOnly: true
      required:
        - id
        - product
        - product_name
        - quantity
        - unit_price
    AccountDetailRequest:
      type: object
      description: |-
        Serializer for AccountDetail - used for reading account details.
        For writing, use the nested 'details' field in AccountSerializer.
      properties:
        product:
          type: string
          format: uuid
        quantity:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
      required:
        - product
        - quantity
    AccountList:
      type: object
      description: |-
        Lightweight serializer for listing accounts.
        Includes computed fields for display purposes.
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        seq_number:
          type: integer
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
        total_amount_usd:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,2})?$
          readOnly: true
        payment_status:
          allOf:
            - $ref: "#/components/schemas/PaymentStatus0cfEnum"
          readOnly: true
        branch:
          type: string
          format: uuid
          readOnly: true
        branch_name:
          type: string
          readOnly: true
        provider:
          type: string
          format: uuid
          readOnly: true
          nullable: true
        provider_name:
          type: string
          readOnly: true
          default: No Provider
        total_paid:
          type: string
          readOnly: true
      required:
        - branch
        - branch_name
        - created_at
        - id
        - payment_status
        - provider
        - provider_name
        - seq_number
        - total_amount_usd
        - total_paid
        - updated_at
    AccountPayment:
      type: object
      description: |-
        Serializer for creating and viewing account payments.
        Handles currency conversion and payment status updates.
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        currency:
          type: string
          maxLength: 3
        payment_method:
          type: string
        payment_date:
          type: string
          format: date-time
          readOnly: true
        REF:
          type: string
          nullable: true
          maxLength: 100
        total_amount_usd:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
          readOnly: true
        total_amount_ves:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
          readOnly: true
        exchange_rate:
          type: string
          format: uuid
          readOnly: true
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
      required:
        - created_at
        - currency
        - exchange_rate
        - id
        - payment_date
        - payment_method
        - total_amount_usd
        - total_amount_ves
    AccountPaymentRequest:
      type: object
      description: |-
        Serializer for creating and viewing account payments.
        Handles currency conversion and payment status updates.
      properties:
        currency:
          type: string
          minLength: 1
          maxLength: 3
        payment_method:
          type: string
          minLength: 1
        REF:
          type: string
          nullable: true
          maxLength: 100
        amount:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
          writeOnly: true
          description: Payment amount in the specified currency
      required:
        - amount
        - currency
        - payment_method
    AccountRequest:
      type: object
      description: |-
        Main serializer for creating and viewing accounts (purchases).
        Supports nested creation of account details.
        Increases stock when account is created.
      properties:
        branch:
          type: string
          format: uuid
        provider:
          type: string
          format: uuid
          nullable: true
        details:
          type: array
          items:
            type: object
            additionalProperties: {}
          writeOnly: true
          description:
            List of account details with 'product' (ULID) and 'quantity'
            fields
      required:
        - branch
        - details
    Branch:
      type: object
      properties:
        name:
          type: string
          maxLength: 200
        address:
          type: string
          nullable: true
          maxLength: 200
        phone:
          type: string
          nullable: true
          maxLength: 40
        email:
          type: string
          format: email
          nullable: true
          maxLength: 200
        id:
          type: string
          format: uuid
          readOnly: true
      required:
        - id
        - name
    BranchRequest:
      type: object
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 200
        address:
          type: string
          nullable: true
          maxLength: 200
        phone:
          type: string
          nullable: true
          maxLength: 40
        email:
          type: string
          format: email
          nullable: true
          maxLength: 200
      required:
        - name
    Category:
      type: object
      properties:
        name:
          type: string
          maxLength: 200
        id:
          type: string
          format: uuid
          readOnly: true
      required:
        - id
        - name
    CategoryRequest:
      type: object
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 200
      required:
        - name
    Company:
      type: object
      properties:
        name:
          type: string
          maxLength: 100
        email:
          type: string
          format: email
          maxLength: 200
        max_branches:
          type: integer
          maximum: 2147483647
          minimum: 0
        license_date:
          type: string
          format: date
        id:
          type: string
          format: uuid
          readOnly: true
      required:
        - email
        - id
        - license_date
        - max_branches
        - name
    CompanyRequest:
      type: object
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 100
        email:
          type: string
          format: email
          minLength: 1
          maxLength: 200
        max_branches:
          type: integer
          maximum: 2147483647
          minimum: 0
        license_date:
          type: string
          format: date
      required:
        - email
        - license_date
        - max_branches
        - name
    CustomUser:
      type: object
      properties:
        email:
          type: string
          format: email
          maxLength: 254
        first_name:
          type: string
          maxLength: 150
        last_name:
          type: string
          maxLength: 150
        company_id:
          type: string
          format: uuid
        branch_ids:
          type: array
          items:
            type: string
            format: uuid
      required:
        - company_id
        - email
    CustomUserRequest:
      type: object
      properties:
        email:
          type: string
          format: email
          minLength: 1
          maxLength: 254
        first_name:
          type: string
          maxLength: 150
        last_name:
          type: string
          maxLength: 150
        company_id:
          type: string
          format: uuid
        branch_ids:
          type: array
          items:
            type: string
            format: uuid
      required:
        - company_id
        - email
    Customer:
      type: object
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        company:
          allOf:
            - $ref: "#/components/schemas/Company"
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        name:
          type: string
          maxLength: 200
        phone:
          type: string
          nullable: true
          maxLength: 40
        email:
          type: string
          format: email
          nullable: true
          maxLength: 200
        document:
          type: string
          nullable: true
          maxLength: 40
        changed_by:
          type: integer
          nullable: true
      required:
        - company
        - created_at
        - id
        - name
    CustomerRequest:
      type: object
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 200
        phone:
          type: string
          nullable: true
          maxLength: 40
        email:
          type: string
          format: email
          nullable: true
          maxLength: 200
        document:
          type: string
          nullable: true
          maxLength: 40
        changed_by:
          type: integer
          nullable: true
      required:
        - name
    MeasurementUnit:
      type: object
      properties:
        name:
          type: string
          maxLength: 200
        decimals:
          type: boolean
        id:
          type: string
          format: uuid
          readOnly: true
      required:
        - id
        - name
    MeasurementUnitRequest:
      type: object
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 200
        decimals:
          type: boolean
      required:
        - name
    PaginatedAccountListList:
      type: object
      required:
        - count
        - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: "#/components/schemas/AccountList"
    PaginatedSaleListList:
      type: object
      required:
        - count
        - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=4
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?page=2
        results:
          type: array
          items:
            $ref: "#/components/schemas/SaleList"
    PatchedAccountRequest:
      type: object
      description: |-
        Main serializer for creating and viewing accounts (purchases).
        Supports nested creation of account details.
        Increases stock when account is created.
      properties:
        branch:
          type: string
          format: uuid
        provider:
          type: string
          format: uuid
          nullable: true
        details:
          type: array
          items:
            type: object
            additionalProperties: {}
          writeOnly: true
          description:
            List of account details with 'product' (ULID) and 'quantity'
            fields
    PatchedBranchRequest:
      type: object
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 200
        address:
          type: string
          nullable: true
          maxLength: 200
        phone:
          type: string
          nullable: true
          maxLength: 40
        email:
          type: string
          format: email
          nullable: true
          maxLength: 200
    PatchedCategoryRequest:
      type: object
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 200
    PatchedCompanyRequest:
      type: object
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 100
        email:
          type: string
          format: email
          minLength: 1
          maxLength: 200
        max_branches:
          type: integer
          maximum: 2147483647
          minimum: 0
        license_date:
          type: string
          format: date
    PatchedCustomUserRequest:
      type: object
      properties:
        email:
          type: string
          format: email
          minLength: 1
          maxLength: 254
        first_name:
          type: string
          maxLength: 150
        last_name:
          type: string
          maxLength: 150
        company_id:
          type: string
          format: uuid
        branch_ids:
          type: array
          items:
            type: string
            format: uuid
    PatchedCustomerRequest:
      type: object
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 200
        phone:
          type: string
          nullable: true
          maxLength: 40
        email:
          type: string
          format: email
          nullable: true
          maxLength: 200
        document:
          type: string
          nullable: true
          maxLength: 40
        changed_by:
          type: integer
          nullable: true
    PatchedMeasurementUnitRequest:
      type: object
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 200
        decimals:
          type: boolean
    PatchedProductWriteDetailRequest:
      type: object
      description: Serializador completo para Creacin, Edicin y Detalle
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 200
        description:
          type: string
          nullable: true
        cost_price_usd:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
        profit_margin:
          type: string
          format: decimal
          pattern: ^-?\d{0,3}(?:\.\d{0,2})?$
        IVA:
          type: boolean
        category:
          type: string
          format: uuid
          nullable: true
        measurement_unit:
          type: string
          format: uuid
          nullable: true
        sku:
          type: string
          nullable: true
          maxLength: 100
        selling_units:
          type: array
          items:
            $ref: "#/components/schemas/ProductSellingUnitRequest"
    PatchedProviderRequest:
      type: object
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 200
        phone:
          type: string
          nullable: true
          maxLength: 40
        email:
          type: string
          format: email
          nullable: true
          maxLength: 200
        document:
          type: string
          nullable: true
          maxLength: 40
        changed_by:
          type: integer
          nullable: true
    PatchedSaleRequest:
      type: object
      description: |-
        Main serializer for creating and viewing sales.
        Supports nested creation of sale details.
      properties:
        branch:
          type: string
          format: uuid
        customer:
          type: string
          format: uuid
          nullable: true
        details:
          type: array
          items:
            type: object
            additionalProperties: {}
          writeOnly: true
          description: List of sale details with 'product' (ULID) and 'quantity' fields
    PaymentStatus0cfEnum:
      enum:
        - PENDING
        - PARTIALLY_PAID
        - PAID
      type: string
      description: |-
        * `PENDING` - Pending
        * `PARTIALLY_PAID` - Partially Paid
        * `PAID` - Paid
    PaymentStatusC54Enum:
      enum:
        - PENDING
        - PARTIALLY_PAID
        - PAID
        - OVERPAID
      type: string
      description: |-
        * `PENDING` - Pending
        * `PARTIALLY_PAID` - Partially Paid
        * `PAID` - Paid
        * `OVERPAID` - Overpaid
    ProductMaster:
      type: object
      description: Serializador ligero para listados generales
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        name:
          type: string
          maxLength: 200
        description:
          type: string
          nullable: true
        cost_price_usd:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
        profit_margin:
          type: string
          format: decimal
          pattern: ^-?\d{0,3}(?:\.\d{0,2})?$
        IVA:
          type: boolean
        category:
          type: string
          format: uuid
          nullable: true
        measurement_unit:
          type: string
          format: uuid
          nullable: true
        sku:
          type: string
          nullable: true
          maxLength: 100
      required:
        - cost_price_usd
        - id
        - name
        - profit_margin
    ProductSellingUnit:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
          maxLength: 100
        unit_conversion_factor:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,10})?$
        measurement_unit:
          type: string
          format: uuid
      required:
        - measurement_unit
        - name
        - unit_conversion_factor
    ProductSellingUnitRequest:
      type: object
      properties:
        id:
          type: string
          minLength: 1
        name:
          type: string
          minLength: 1
          maxLength: 100
        unit_conversion_factor:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,10})?$
        measurement_unit:
          type: string
          format: uuid
      required:
        - measurement_unit
        - name
        - unit_conversion_factor
    ProductStockSale:
      type: object
      properties:
        product_id:
          type: string
          readOnly: true
        stock:
          type: string
          format: decimal
          pattern: ^-?\d{0,6}(?:\.\d{0,10})?$
      required:
        - product_id
        - stock
    ProductWriteDetail:
      type: object
      description: Serializador completo para Creacin, Edicin y Detalle
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        name:
          type: string
          maxLength: 200
        description:
          type: string
          nullable: true
        cost_price_usd:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
        profit_margin:
          type: string
          format: decimal
          pattern: ^-?\d{0,3}(?:\.\d{0,2})?$
        IVA:
          type: boolean
        category:
          type: string
          format: uuid
          nullable: true
        measurement_unit:
          type: string
          format: uuid
          nullable: true
        sku:
          type: string
          nullable: true
          maxLength: 100
        selling_units:
          type: array
          items:
            $ref: "#/components/schemas/ProductSellingUnit"
      required:
        - cost_price_usd
        - id
        - name
        - profit_margin
    ProductWriteDetailRequest:
      type: object
      description: Serializador completo para Creacin, Edicin y Detalle
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 200
        description:
          type: string
          nullable: true
        cost_price_usd:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
        profit_margin:
          type: string
          format: decimal
          pattern: ^-?\d{0,3}(?:\.\d{0,2})?$
        IVA:
          type: boolean
        category:
          type: string
          format: uuid
          nullable: true
        measurement_unit:
          type: string
          format: uuid
          nullable: true
        sku:
          type: string
          nullable: true
          maxLength: 100
        selling_units:
          type: array
          items:
            $ref: "#/components/schemas/ProductSellingUnitRequest"
      required:
        - cost_price_usd
        - name
        - profit_margin
    Provider:
      type: object
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        company:
          allOf:
            - $ref: "#/components/schemas/Company"
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        name:
          type: string
          maxLength: 200
        phone:
          type: string
          nullable: true
          maxLength: 40
        email:
          type: string
          format: email
          nullable: true
          maxLength: 200
        document:
          type: string
          nullable: true
          maxLength: 40
        changed_by:
          type: integer
          nullable: true
      required:
        - company
        - created_at
        - id
        - name
    ProviderRequest:
      type: object
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 200
        phone:
          type: string
          nullable: true
          maxLength: 40
        email:
          type: string
          format: email
          nullable: true
          maxLength: 200
        document:
          type: string
          nullable: true
          maxLength: 40
        changed_by:
          type: integer
          nullable: true
      required:
        - name
    RegisterUser:
      type: object
      properties:
        email:
          type: string
          format: email
          maxLength: 254
        first_name:
          type: string
          maxLength: 150
        last_name:
          type: string
          maxLength: 150
        username:
          type: string
          description:
            Required. 150 characters or fewer. Letters, digits and @/./+/-/_
            only.
          pattern: ^[\w.@+-]+$
          maxLength: 150
      required:
        - email
        - username
    RegisterUserRequest:
      type: object
      properties:
        email:
          type: string
          format: email
          minLength: 1
          maxLength: 254
        password:
          type: string
          writeOnly: true
          minLength: 1
          maxLength: 128
        company_id:
          type: string
          format: uuid
          writeOnly: true
        branch_ids:
          type: array
          items:
            type: string
            format: uuid
            writeOnly: true
          writeOnly: true
        first_name:
          type: string
          maxLength: 150
        last_name:
          type: string
          maxLength: 150
        username:
          type: string
          minLength: 1
          description:
            Required. 150 characters or fewer. Letters, digits and @/./+/-/_
            only.
          pattern: ^[\w.@+-]+$
          maxLength: 150
      required:
        - company_id
        - email
        - password
        - username
    Sale:
      type: object
      description: |-
        Main serializer for creating and viewing sales.
        Supports nested creation of sale details.
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        branch:
          type: string
          format: uuid
        branch_name:
          type: string
          readOnly: true
        customer:
          type: string
          format: uuid
          nullable: true
        customer_name:
          type: string
          readOnly: true
          default: Walk-in Customer
        total_amount_usd:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,2})?$
          readOnly: true
        payment_status:
          allOf:
            - $ref: "#/components/schemas/PaymentStatusC54Enum"
          readOnly: true
        seq_number:
          type: integer
          readOnly: true
        sale_details:
          type: array
          items:
            $ref: "#/components/schemas/SaleDetail"
          readOnly: true
        total_paid:
          type: string
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
        - branch
        - branch_name
        - created_at
        - customer_name
        - id
        - payment_status
        - sale_details
        - seq_number
        - total_amount_usd
        - total_paid
        - updated_at
    SaleDetail:
      type: object
      description: |-
        Serializer for SaleDetail - used for reading sale details.
        For writing, use the nested 'details' field in SaleSerializer.
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        product:
          type: string
          format: uuid
        product_name:
          type: string
          readOnly: true
        quantity:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
        unit_price:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,2})?$
          readOnly: true
      required:
        - id
        - product
        - product_name
        - quantity
        - unit_price
    SaleDetailRequest:
      type: object
      description: |-
        Serializer for SaleDetail - used for reading sale details.
        For writing, use the nested 'details' field in SaleSerializer.
      properties:
        product:
          type: string
          format: uuid
        quantity:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
      required:
        - product
        - quantity
    SaleList:
      type: object
      description: |-
        Lightweight serializer for listing sales.
        Includes computed fields for display purposes.
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        seq_number:
          type: integer
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
        total_amount_usd:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,2})?$
          readOnly: true
        payment_status:
          allOf:
            - $ref: "#/components/schemas/PaymentStatusC54Enum"
          readOnly: true
        branch:
          type: string
          format: uuid
          readOnly: true
        branch_name:
          type: string
          readOnly: true
        customer:
          type: string
          format: uuid
          readOnly: true
          nullable: true
        customer_name:
          type: string
          readOnly: true
          default: Walk-in Customer
        total_paid:
          type: string
          readOnly: true
      required:
        - branch
        - branch_name
        - created_at
        - customer
        - customer_name
        - id
        - payment_status
        - seq_number
        - total_amount_usd
        - total_paid
        - updated_at
    SalePayment:
      type: object
      description: |-
        Serializer for creating and viewing sale payments.
        Handles currency conversion and payment status updates.
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        currency:
          type: string
          maxLength: 3
        payment_method:
          type: string
        payment_date:
          type: string
          format: date-time
          readOnly: true
        discount:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
        total_amount_usd:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,2})?$
          readOnly: true
        total_amount_ves:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,2})?$
          readOnly: true
        exchange_rate:
          type: string
          format: uuid
          readOnly: true
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
      required:
        - created_at
        - currency
        - exchange_rate
        - id
        - payment_date
        - payment_method
        - total_amount_usd
        - total_amount_ves
    SalePaymentRequest:
      type: object
      description: |-
        Serializer for creating and viewing sale payments.
        Handles currency conversion and payment status updates.
      properties:
        currency:
          type: string
          minLength: 1
          maxLength: 3
        payment_method:
          type: string
          minLength: 1
        discount:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
        amount:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
          writeOnly: true
          description: Payment amount in the specified currency
      required:
        - amount
        - currency
        - payment_method
    SaleRequest:
      type: object
      description: |-
        Main serializer for creating and viewing sales.
        Supports nested creation of sale details.
      properties:
        branch:
          type: string
          format: uuid
        customer:
          type: string
          format: uuid
          nullable: true
        details:
          type: array
          items:
            type: object
            additionalProperties: {}
          writeOnly: true
          description: List of sale details with 'product' (ULID) and 'quantity' fields
      required:
        - branch
        - details
    TokenRefresh:
      type: object
      properties:
        access:
          type: string
          readOnly: true
      required:
        - access
    TokenRefreshRequest:
      type: object
      properties:
        refresh:
          type: string
          writeOnly: true
          minLength: 1
      required:
        - refresh
